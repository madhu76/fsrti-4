<nav class="navbar navbar-expand-lg navbar-light " style="background-color:white">
    <a class="navbar-brand" routerLink=" "><img class="img-responsive" src="https://res.cloudinary.com/jisst/image/upload/v1641732227/FSRTI__Logo_riitig.png" height="100%" width="70%">
    </a>

    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

    <div class="collapse navbar-collapse" id="navbarNavDropdown">
        <ul class="navbar-nav mr-auto">
            <li class="nav-item active">
                <a mat-button class="nav-link" routerLink="" data-toggle="collapse" data-target=".navbar-collapse.show">Home<span class="sr-only">(current)</span></a>
            </li>
            <!-- <li class="nav-item active">
        <a mat-button class="nav-link" routerLink="" data-toggle="collapse"
          data-target=".navbar-collapse.show">Main Menu </a>
      </li> -->
            <li class="nav-item active">
                <a mat-button class="nav-link" routerLink="/about" data-toggle="collapse" data-target=".navbar-collapse.show">About The Journal</a>
            </li>
            <!-- <li class="nav-item active">
        <a mat-button class="nav-link" routerLink="/author" data-toggle="collapse" data-target=".navbar-collapse.show">Submit
          Article </a>
      </li> -->
            <li class="nav-item active">
                <a mat-button class="nav-link" routerLink="/archive" data-toggle="collapse" data-target=".navbar-collapse.show">Archives</a>
            </li>
            <li class="nav-item active">
                <a mat-button class="nav-link" routerLink="/guideliness" data-toggle="collapse" data-target=".navbar-collapse.show">Guidelines
          for Authors</a>
            </li>
            <li class="nav-item active">
                <a mat-button class="nav-link" routerLink="/publicationpolicies" data-toggle="collapse" data-target=".navbar-collapse.show">Policies and Ethics</a>
            </li>
            <li class="nav-item active">
                <a mat-button class="nav-link" href="https://fsrti.jisst.com/" target="_blank">FSRTI</a>
            </li>
        </ul>
        <ul class="navbar-nav ml-auto">
            <li class="nav-item active">
                <a mat-button class="nav-link" routerLink="/contact">
          Contact
        </a>
            </li>
            <li class="nav-item dropdown active" *ngIf="!authService.isAuthenticated">
                <a class="nav-link dropdown-toggle" href="#" id="loginDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Login
                </a>
                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="loginDropdown">
                    <a id="googleLoginId" class="dropdown-item" href="#">
                    </a>
                    <a class="dropdown-item google-style-btn" href="#" (click)="loginWithEmail()">
                        <i class="fas fa-envelope"></i> Sign in with Email
                    </a>
                </div>
            </li>
            <li class="nav-item active">
                <a class="nav-link" data-toggle="collapse" data-target=".navbar-collapse.show" *ngIf="authService.isAuthenticated">
                     Hello {{user.name}}!
                </a>
            </li>           
            <li class="nav-item active">
                <a mat-raised-button class="nav-link" routerLink="" data-toggle="collapse" data-target=".navbar-collapse.show" *ngIf="authService.isAuthenticated" (click)="authService.logout()">
          logout <i class="fas fa-sign-in-alt"></i>
        </a>
            </li>

        </ul>
    </div>
</nav>

<!-- Simple Email Login Form -->
<div class="email-login-container" *ngIf="showEmailForm">
  <div class="email-login-form">
    <div class="form-header">
      <h4>Login with Email</h4>
      <button type="button" class="close-btn" (click)="hideEmailForm()">Ã—</button>
    </div>
    
    <!-- Email Input Step -->
    <div *ngIf="!showconfirmationLinkInput" class="email-step">
      <form [formGroup]="emailForm" (ngSubmit)="sendconfirmationLink()">
        <div class="form-group">
          <label for="email">Email Address</label>
          <input type="email" class="form-control" id="email" formControlName="email" 
                 placeholder="Enter your email address" [class.is-invalid]="emailForm.get('email')?.invalid && emailForm.get('email')?.touched">
          <div class="invalid-feedback" *ngIf="emailForm.get('email')?.hasError('required') && emailForm.get('email')?.touched">
            Email is required
          </div>
          <div class="invalid-feedback" *ngIf="emailForm.get('email')?.hasError('email') && emailForm.get('email')?.touched">
            Please enter a valid email address
          </div>
        </div>
        
        <button type="submit" class="btn btn-primary btn-block" 
                [disabled]="!emailForm.valid || loading">
          <span *ngIf="loading" class="spinner-border spinner-border-sm mr-2"></span>
          {{ loading ? 'Sending...' : 'Send Confirmation Link' }}
        </button>
      </form>
    </div>

    <!-- Confirmation Link Input Step -->
    <div *ngIf="showconfirmationLinkInput" class="confirmationLink-step">
      <p class="confirmationLink-instruction">
        We've sent a confirmation link to <strong>{{ userEmail }}</strong>
      </p>
    </div>

    <!-- Success Message -->
    <div *ngIf="successMessage" class="alert alert-success mt-3">
      <i class="fas fa-check-circle mr-2"></i>{{ successMessage }}
    </div>

    <!-- Error Message -->
    <div *ngIf="errorMessage" class="alert alert-danger mt-3">
      <i class="fas fa-exclamation-circle mr-2"></i>{{ errorMessage }}
    </div>
  </div>
</div>